# google-sheets

В этом задании будем делать клон всеми любимых [Google Sheets](https://docs.google.com/spreadsheets)

## Задания:

0. Для дебага пригодится расширение [mobx-devtools](https://github.com/mobxjs/mobx-devtools),  
   В файле `index.tsx` есть конфигурация полезных правил, можешь включить их, они будут писать предупреждения в консоль
1. Для начала разберемся с изменением имени таблички:
   - В классе `SheetStore` сделай так, чтобы поле `name` стало observable
   - В том же классе допиши логику переименования
   - Убедись, что компоненты, которые используют это поле являются observer-ами
   - Допиши переименование и синхронизацию имени с заголовком документа
2. Сделай так, чтобы заработало создание, удаление, копирование, и переименование листов:
   - В классе `SheetStore` допиши методы `createSheet`, `deleteSheet`, `duplicateSheet`
   - В кнопке создания `CreateSheetButton` позови нужный метод
   - В компоненте `SheetNavigation` навигации по листам, сделай так,
     чтобы для каждого листа рисовалась кнопка с действиями (не забудь про observer)
   - Сделай так, чтобы заработало переименование листа, для этого придется поправить код класса `Sheet`
     (не забудь сделать имя observable, а тех, кто его читает — observer)
3. Сделай так, чтобы можно было выбирать текущий лист:
   - Для этого поправь код класса `SheetStore`, и код компонента `CurrentSheet`
   - Не забудь позвать код выбора в компоненте `SheetActions` и написать код для вычисления `current` в `SheetStore`
   - Теперь при клике на навигацию должно работать переключение между листами
4. Теперь пришло время реализовать навигацию по табличке:
   - Для начала почини поле `.idxs` в классе `Grid`, не забудь превратить его в computed
   - После этого, перед тобой появится табличка с ячейками
   - Код, отрисовки рамки выделенной ячейки уже написан в компоненте `Cell`,
     но сейчас он не реагирует на изменения, добавь необходимую обертку для этого
   - После этого, в классе `Grid` допиши методы `isSelected` и `setSelection`;
     в результате должна появиться рамка у первой ячейки
   - Допиши метод `move` в классе `Grid` и вызови его в компоненте `Grid`,
     если всё сделано правильно, теперь после клика по ячейке можно перемещаться стрелочками
   - Убедись, что координаты в шапке отображаются правильно и работает запись в выбранную ячейку через поле в шапке
5. Пришло время запилить главную фичу — поддержку формул:
   - Мы хотим, чтобы значения в ячейках, которые начинаются с `=` вычислялись как обычные JavaScript выражения.
     Более того, мы хотим иметь возможность обращаться к соседним ячейкам
     с помощью специального синтаксиса: `[x;y]`, где x и y — координаты ячейки.
     Примеры валидных выражений: `= 2 + 2`, `= [0;0] + [0;1]`, `= Math.random()`
   - Код получения выражений уже написан в функции `extractExpression`,
     осталось только починить методы `write` и `readIndex` в классе `Grid`
   - Если все сделано правильно, теперь в таблице появились живые формулы.
     Формулы могут содержать любой код на JavaScript, поэкспериментируй!
6. \* Добавь поддержку промежутков значений. Для этого придётся придумать ещё один синтаксис, (например: `[a;b..c;d]`)
   и добавить его поддержку внутри `extractExpression`.
   Например, можно заменять такое выражение на массив, где в каком-нибудь порядке обходится промежуток.
   Другой способ — заменить это на вызов функции в классе `Grid`, а код обхода и возвращения массива значений писать уже там.
7. \* Добавь возможность изменять размеры поля.
   Например, добавлением строки или столбца в конец или полями в которых можно менять ширину и высоту.
   Не забудь сохранить уже заполненные значения ячеек.
   Размер поля в css передается с помощью css-переменных.
8. \* Добавь возможность сохранять какие-нибудь значения моделей, чтобы они переживали перезагрузку страницы.
   - В качестве хранилища можешь использовать `sessionStorage` или `localStorage`, не забудь добавить немного асинхронного ожидания, чтобы имитировать поход по сети.
   - Для изменения параметров в асинхронном виде используй `flow()` (это подойдет например для имен, звездочки и создания/удаления/копирования листов)
   - Для сохранения значений поля можешь воспользоваться такой техникой:
     - создай вычисляемое значение со строковым представление поля
     - подпишись на него с помощью `autorun`
     - внутри подписки с некоторым debounce сохраняй значения
   - _Вариант для супер ленивых_: используй описанную технику для всего класса `SheetStore`
